<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Chat Room</title>
  <link rel="stylesheet" href="/static/css/styles.css" />
</head>
<body class="chat-body">
  <header>Chat Room</header>
  <div id="messages"></div>

  <div class="chat-input">
    <input id="msg" type="text" placeholder="Type a message..." />
    <button id="sendBtn">Send</button>
  </div>

  <script>
  const token = localStorage.getItem("token");
  if (!token) {
    window.location.href = "/signup";
  }

  const params = new URLSearchParams(window.location.search);
  if (!params.get("token")) {
    const room = params.get("room");
    if (!room) {
      alert("No room specified.");
      window.location.href = "/";
    }
    window.location.href = `/chat?room=${room}&token=${encodeURIComponent(token)}`;
  }
</script>

  <script src="/static/js/chat.js"></script>
</body>
</html>
